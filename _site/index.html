<!DOCTYPE html>
<html lang="en-us">
  
  <head>
  <meta charset="UTF-8">
  <title>Minke</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <link rel="stylesheet" href="css/normalize.css">
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="css/cayman.css">
  <link rel="stylesheet" href="css/highlighting.css">
</head>


  <body>
    <section class="page-header">
  <h1 class="project-name">Minke</h1>
  <h2 class="project-tagline">Build tools and generators for your μServices workflow.</h2>
  <a href="https://github.com/nicholasjackson/minke" class="btn">View on GitHub</a>
  <a href="https://github.com/nicholasjackson/minke/archive/master.zip" class="btn">Download .zip</a>
  <a href="https://github.com/nicholasjackson/minke/archive/master.tar.gz" class="btn">Download .tar.gz</a>
</section>


    <section class="main-content">
      
      <div id="home">
  
  <h1 id="introduction">Introduction</h1>

<p>Minke is an opinionated build system for μServices and Docker, like a little envelope of quality it scaffolds the build, run and test (unit test and functional tests) phases of your μServices project allowing you to simply run and test your images using Docker Compose.</p>

<h1 id="generators">Generators</h1>
<p>Minke has the capability to scaffold a new service, to do this it uses generator plugins.  The table below shows the currently available generators, to create your own please follow the <a href="#">creating generators guide</a>.</p>

<table>
  <thead>
    <tr>
      <th>Language</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Go</td>
      <td><a href="https://github.com/nicholasjackson/minke-generator-go">Go μService Template</a></td>
    </tr>
    <tr>
      <td>.NET Core</td>
      <td><a href="https://github.com/nicholasjackson/minke-generator-netmvc">.NET MVC μService Template</a></td>
    </tr>
    <tr>
      <td>Java</td>
      <td><a href="https://github.com/notonthehighstreet/minke-generator-spring">Spring Boot</a></td>
    </tr>
    <tr>
      <td>Swift</td>
      <td>Kitura (Coming Soon)</td>
    </tr>
    <tr>
      <td>Node</td>
      <td>ExpressJS (Coming Soon)</td>
    </tr>
    <tr>
      <td>Ruby</td>
      <td>Rails (Coming Soon)</td>
    </tr>
  </tbody>
</table>

<h1 id="using-minke">Using Minke</h1>

<h2 id="create-a-gemfile">Create a Gemfile</h2>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">source</span> <span class="s1">'http://rubygems.org'</span>

<span class="n">gem</span> <span class="s1">'minke'</span>
<span class="n">gem</span> <span class="s1">'minke-generator-go'</span>
</code></pre>
</div>

<h2 id="install-the-gems">Install the gems</h2>
<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>bundle install
</code></pre>
</div>

<h2 id="run-minke">Run minke</h2>
<div class="highlighter-rouge"><pre class="highlight"><code>$ minke
</code></pre>
</div>

<p>You should see the below output with the go generator successfully installed.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
888b     d888 d8b          888
8888b   d8888 Y8P          888
88888b.d88888              888
888Y88888P888 888 88888b.  888  888  .d88b.
888 Y888P 888 888 888  88b 888 .88P d8P  Y8b
888  Y8P  888 888 888  888 888888K  88888888
888   "   888 888 888  888 888  88b Y8b.
888       888 888 888  888 888  888  "Y8888

Version: 1.2.0

# Loading installed generators:
  * minke-generator-go

Please specify options use: minke --help for help on command line options
</code></pre>
</div>

<h2 id="scaffold-a-project">Scaffold a project</h2>
<p>We can now scaffold a new go μService using the following command:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>minke -g minke-generator-go -o <span class="nv">$GOPATH</span>/src/github.com/nicholasjackson/helloworld
  -a helloworld -n github.com/nicholasjackson
</code></pre>
</div>
<p>since this is a Go service it needs to be in your GOPATH and the namespace needs to be the same as your github or bitbucket url for the import statements.<br />
If look at the output folder we will see something like the below folder structure, all our source code is in the root and there is a <strong>_build</strong> folder, this is where Minke stores things like the Docker and Docker Compose files and configuration.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>total 12520
    0 drwxr-xr-x  17 nicj  NOTHS\Domain Users      578 23 May 15:09 .
    0 drwxr-xr-x  10 nicj  NOTHS\Domain Users      340 23 May 15:07 ..
    0 drwxr-xr-x   3 nicj  NOTHS\Domain Users      102 25 Apr 16:30 .bundle
    0 drwxr-xr-x  13 nicj  NOTHS\Domain Users      442 23 May 15:09 .git
    8 -rw-r--r--   1 nicj  NOTHS\Domain Users      123 18 Apr 15:43 .gitignore
    8 -rw-r--r--   1 nicj  NOTHS\Domain Users       11 18 Apr 15:43 .ruby-gemset
    8 -rw-r--r--   1 nicj  NOTHS\Domain Users        6 18 Apr 15:43 .ruby-version
    8 -rw-r--r--   1 nicj  NOTHS\Domain Users     1083 18 Apr 15:43 LICENSE
    8 -rw-r--r--   1 nicj  NOTHS\Domain Users      258 18 Apr 15:43 Readme.md
    0 drwxr-xr-x  12 nicj  NOTHS\Domain Users      408 25 Apr 15:57 _build
    8 -rw-r--r--   1 nicj  NOTHS\Domain Users      629 18 Apr 15:43 circle.yml
    0 drwxr-xr-x   3 nicj  NOTHS\Domain Users      102 18 Apr 15:43 global
    0 drwxr-xr-x  10 nicj  NOTHS\Domain Users      340 18 Apr 15:43 handlers
12464 -rwxr-xr-x   1 nicj  NOTHS\Domain Users  6379552 25 Apr 16:45 helloworld
    0 drwxr-xr-x   3 nicj  NOTHS\Domain Users      102 18 Apr 15:43 logging
    8 -rw-r--r--   1 nicj  NOTHS\Domain Users     1290 18 Apr 15:43 main.go
    0 drwxr-xr-x   3 nicj  NOTHS\Domain Users      102 18 Apr 15:43 mocks
</code></pre>
</div>

<h2 id="building-and-testing-your-application">Building and testing your application</h2>
<p>Change to the <strong>_build</strong> folder</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ cd _build
</code></pre>
</div>
<p>Since Minke is primarily uses Rake you can run <code class="highlighter-rouge">$ Rake -T</code> to see the various options available to you.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>rake app:build              # build application
rake app:build_and_run      # build and run application with Docker Compose
rake app:build_image        # build Docker image for application
rake app:cucumber[feature]  # run end to end Cucumber tests USAGE: rake app:cucumber[@tag]
rake app:fetch              # fetch dependent packages
rake app:push               # push built image to Docker registry
rake app:run                # run application with Docker Compose
rake app:test               # run unit tests
rake docker:fetch_images    # pull images for golang from Docker registry if not already downloaded
rake docker:update_images   # updates build images for swagger and golang will overwrite existing images
</code></pre>
</div>

<h3 id="building-the-application">Building the application</h3>
<p>To build the application simply execute:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>rake app:build
</code></pre>
</div>
<p>This will download a docker image for the language (in this instance Go), and run the commands.  No build commands are executed directly on your machine which is great as you do not need to manage all the dependencies.</p>

</div>


      <footer class="site-footer">
  <span class="site-footer-owner"><a href="">Minke</a> is maintained by <a href="http://github.com/nicholasjackson">Nic Jackson</a>.</span>
  <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/pietromenna/jekyll-cayman-theme">Cayman theme</a> by <a href="http://github.com/jasonlong">Jason Long</a>.</span>
</footer>


    </section>

  </body>
</html>
